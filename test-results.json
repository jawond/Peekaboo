
> @steipete/peekaboo-mcp@2.1.0 test
> vitest run tests/integration/spec-v3-commands.test.ts --reporter=json

{"numTotalTestSuites":9,"numPassedTestSuites":6,"numFailedTestSuites":3,"numPendingTestSuites":0,"numTotalTests":20,"numPassedTests":17,"numFailedTests":1,"numPendingTests":2,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1751750494531,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Spec v3 Commands","sleep command"],"fullName":"Spec v3 Commands sleep command should sleep for specified duration","status":"passed","title":"should sleep for specified duration","duration":570.578,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","sleep command"],"fullName":"Spec v3 Commands sleep command should handle JSON output","status":"passed","title":"should handle JSON output","duration":116.00687500000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","see command"],"fullName":"Spec v3 Commands see command should capture screen and create session","status":"failed","title":"should capture screen and create session","duration":60003.562667,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:481:27)\n    at Object.<anonymous> (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:503:16)\n    at Object.<anonymous> (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:308:28)\n    at chain (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/chunk-tasks.js:8:14)\n    at /Users/steipete/Projects/Peekaboo/tests/integration/spec-v3-commands.test.ts:56:5\n    at file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:578:40\n    at runWithSuite (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:839:8)\n    at Object.collect (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:578:10)\n    at Object.collect (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:582:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.collect (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:582:46)\n    at collectTests (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:1124:25)\n    at startTests (file:///Users/steipete/Projects/Peekaboo/node_modules/@vitest/runner/dist/index.js:1568:16)\n    at file:///Users/steipete/Projects/Peekaboo/node_modules/vitest/dist/chunks/runBaseTests.BV8m0B-u.js:122:5\n    at withEnv (file:///Users/steipete/Projects/Peekaboo/node_modules/vitest/dist/chunks/runBaseTests.BV8m0B-u.js:88:3)"],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for see command","status":"passed","title":"should show help for see command","duration":11.473957999995037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for click command","status":"passed","title":"should show help for click command","duration":10.415041000000201,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for type command","status":"passed","title":"should show help for type command","duration":10.006583000002138,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for scroll command","status":"passed","title":"should show help for scroll command","duration":10.117667000005895,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for hotkey command","status":"passed","title":"should show help for hotkey command","duration":11.745042000002286,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for swipe command","status":"passed","title":"should show help for swipe command","duration":9.534374999995634,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for run command","status":"passed","title":"should show help for run command","duration":11.132041000004392,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","command help"],"fullName":"Spec v3 Commands command help should show help for sleep command","status":"passed","title":"should show help for sleep command","duration":10.210750000005646,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","run command script validation"],"fullName":"Spec v3 Commands run command script validation should validate script file format","status":"skipped","title":"should validate script file format","failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","run command script validation"],"fullName":"Spec v3 Commands run command script validation should accept valid script format","status":"skipped","title":"should accept valid script format","failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","coordinate validation"],"fullName":"Spec v3 Commands coordinate validation should validate coordinate format for click","status":"passed","title":"should validate coordinate format for click","duration":11.642208000004757,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","coordinate validation"],"fullName":"Spec v3 Commands coordinate validation should validate coordinate format for swipe","status":"passed","title":"should validate coordinate format for swipe","duration":10.756000000001222,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","scroll directions"],"fullName":"Spec v3 Commands scroll directions should accept up direction","status":"passed","title":"should accept up direction","duration":58.21691599999758,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","scroll directions"],"fullName":"Spec v3 Commands scroll directions should accept down direction","status":"passed","title":"should accept down direction","duration":61.975665999998455,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","scroll directions"],"fullName":"Spec v3 Commands scroll directions should accept left direction","status":"passed","title":"should accept left direction","duration":56.83454199999687,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","scroll directions"],"fullName":"Spec v3 Commands scroll directions should accept right direction","status":"passed","title":"should accept right direction","duration":59.71537499999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Spec v3 Commands","hotkey combinations"],"fullName":"Spec v3 Commands hotkey combinations should parse key combinations","status":"passed","title":"should parse key combinations","duration":360.48866599999747,"failureMessages":[],"meta":{}}],"startTime":1751750494747,"endTime":1751750556142.4888,"status":"failed","message":"","name":"/Users/steipete/Projects/Peekaboo/tests/integration/spec-v3-commands.test.ts"}]}
